(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4034:function(e,t,s){Promise.resolve().then(s.bind(s,8086))},8086:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(1844),a=s(5784),l=s(4853),c=s(8123);let r=e=>{let t=Intl.NumberFormat("en-US",{currency:"INR",style:"currency"});return t.format(e)};var i=function(e){let{show:t,onClose:s,children:a}=e;return(0,n.jsx)("div",{style:{transform:t?"translateX(0%)":"translateX(-200%)"},className:"absolute top-0 left-0 w-full h-full z-10 transition-all duration-500 ",children:(0,n.jsxs)("div",{className:"container mx-auto max-w-2xl max-h-[80vh] rounded-3xl bg-slate-800 py-6 px-4 overflow overflow-scroll ",children:[(0,n.jsx)("button",{onClick:()=>{s(!1)},className:"w-10 h-10 mb-4 font-bold rounded-full bg-slate-600",children:"X"}),a]})})},o=s(9583),d=s(2920),x=function(e){let{show:t,onClose:s,expense:c}=e,{deleteExpenseItem:x,deleteExpenseCategory:u}=(0,a.useContext)(l.D),m=async()=>{try{await u(c.id),d.Am.success("Expense category deleted successfully!")}catch(e){console.log(e.message),d.Am.error(e.message)}},h=async e=>{try{let t=c.items.filter(t=>t.id!==e.id),s={items:[...t],total:c.total-e.amount};await x(s,c.id),d.Am.success("Expense item removed successfully!")}catch(e){console.log(e.message),d.Am.error(e.message)}};return(0,n.jsxs)(i,{show:t,onClose:s,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-4xl",children:c.title}),(0,n.jsx)("button",{onClick:m,className:"btn btn-danger",children:"Delete"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"my-4 text-2xl",children:"Expense History"}),c.items.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("small",{children:e.createdAt.toMillis?new Date(e.createdAt.toMillis()).toISOString():e.createdAt.toISOString()}),(0,n.jsxs)("p",{className:"flex items-center gap-2",children:[r(e.amount),(0,n.jsx)("button",{onClick:()=>{h(e)},children:(0,n.jsx)(o.lp8,{})})]})]},e.id))]})]})},u=function(e){let{expense:t}=e,[s,l]=(0,a.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{show:s,onClose:l,expense:t}),(0,n.jsx)("button",{onClick:()=>{l(!0)},children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 bg-slate-700 rounded-3xl",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-[25px] h-[25px] rounded-full",style:{backgroundColor:t.color}}),(0,n.jsx)("h4",{className:"capitalize",children:t.title})]}),(0,n.jsx)("p",{children:r(t.total)})]})})]})},m=function(e){let{show:t,onClose:s}=e,x=(0,a.useRef)(),u=(0,a.useRef)(),{income:m,addIncomeItem:h,removeIncomeItem:p}=(0,a.useContext)(l.D),{user:f}=(0,a.useContext)(c.g),j=async e=>{e.preventDefault();let t={amount:+x.current.value,description:u.current.value,createdAt:new Date,uid:f.uid};try{await h(t),u.current.value="",x.current.value="",d.Am.success("Income added successfully!")}catch(e){console.log(e.message),d.Am.error(e.message)}},y=async e=>{try{await p(e),d.Am.success("Income deleted successfully.")}catch(e){console.log(e.message),d.Am.error(e.message)}};return(0,n.jsxs)(i,{show:t,onClose:s,children:[(0,n.jsxs)("form",{onSubmit:j,className:"flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"amount",children:"Income Amount"}),(0,n.jsx)("input",{type:"number",name:"amount",ref:x,min:.01,step:.01,placeholder:"Enter income amount",required:!0})]}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"description",children:"Description"}),(0,n.jsx)("input",{name:"description",ref:u,type:"text",placeholder:"Enter income description",required:!0})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add entry"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 mt-6",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:"Income History"}),m.map(e=>(0,n.jsxs)("div",{className:"flex justify-between item-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-semibold",children:e.description}),(0,n.jsx)("small",{className:"text-xs",children:e.createdAt.toISOString()})]}),(0,n.jsxs)("p",{className:"flex items-center gap-2",children:[r(e.amount),(0,n.jsx)("button",{onClick:()=>{y(e.id)},children:(0,n.jsx)(o.lp8,{})})]})]},e.id))]})]})},h=s(7632),p=function(e){let{show:t,onClose:s}=e,[c,r]=(0,a.useState)(""),[o,x]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),{expenses:p,addExpenseItem:f,addCategory:j}=(0,a.useContext)(l.D),y=(0,a.useRef)(),b=(0,a.useRef)(),g=async()=>{let e=p.find(e=>e.id===o),t={color:e.color,title:e.title,total:e.total+ +c,items:[...e.items,{amount:+c,createdAt:new Date,id:(0,h.Z)()}]};try{await f(o,t),console.log(t),r(""),x(null),s(),d.Am.success("Expense Item Added!")}catch(e){console.log(e.message),d.Am.error(e.message)}},N=async()=>{let e=y.current.value,t=b.current.value;try{await j({title:e,color:t,total:0}),m(!1),d.Am.success("Category created!")}catch(e){console.log(e.message),d.Am.error(e.message)}};return(0,n.jsxs)(i,{show:t,onClose:s,children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("label",{children:"Enter an amount.."}),(0,n.jsx)("input",{type:"number",min:.01,step:.01,placeholder:"Enter expense amount",value:c,onChange:e=>{r(e.target.value)}})]}),c>0&&(0,n.jsxs)("div",{className:"flex flex-col gap-4 mt-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-2xl capitalize",children:"Select expense category"}),(0,n.jsx)("button",{onClick:()=>{m(!0)},className:"text-lime-400",children:"+ New Category"})]}),u&&(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("input",{type:"text",placeholder:"Enter Title",ref:y}),(0,n.jsx)("label",{children:"Pick Color"}),(0,n.jsx)("input",{type:"color",className:"w-24 h-10",ref:b}),(0,n.jsx)("button",{onClick:N,className:"btn btn-primary-outline",children:"Create"}),(0,n.jsx)("button",{onClick:()=>{m(!1)},className:"btn btn-danger",children:"Cancel"})]}),p.map(e=>(0,n.jsx)("button",{onClick:()=>{x(e.id)},children:(0,n.jsx)("div",{style:{boxShadow:e.id===o?"1px 1px 4px":"none"},className:"flex items-center justify-between px-4 py-4 bg-slate-700 rounded-3xl",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-[25px] h-[25px] rounded-full",style:{backgroundColor:e.color}}),(0,n.jsx)("h4",{className:"capitalize",children:e.title})]})})},e.id))]}),c>0&&o&&(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsx)("button",{className:"btn btn-primary",onClick:g,children:"Add Expense"})})]})},f=s(1872),j=function(){let{googleLoginHandler:e}=(0,a.useContext)(c.g);return(0,n.jsxs)("main",{className:"container max-w-2xl px-6 mx-auto",children:[(0,n.jsx)("h1",{className:"mb-6 text-6xl font-bold text-center",children:"Welcome to MoneyMind"}),(0,n.jsx)("div",{className:"flex flex-col overflow-hidden shadow-md shadow-slate-500 bg-slate-800 rounded-2xl",children:(0,n.jsxs)("div",{className:"px-4 py-6 mt-5",children:[(0,n.jsx)("h3",{className:"text-2xl text-center",children:"Sign-In To Continue"}),(0,n.jsxs)("button",{onClick:e,className:"flex self-start gap-2 p-4 mx-auto mt-6 font-medium text-white align-middle bg-gray-700 rounded-lg",children:[(0,n.jsx)(f.JM8,{className:"text-2xl"})," Google"]})]})})]})},y=s(3148),b=s(5430);function g(){let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(0),{expenses:x,income:h}=(0,a.useContext)(l.D),{user:f}=(0,a.useContext)(c.g);return((0,a.useEffect)(()=>{let e=h.reduce((e,t)=>e+t.amount,0)-x.reduce((e,t)=>e+t.total,0);d(e)},[x,h]),f)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{show:e,onClose:t}),(0,n.jsx)(p,{show:s,onClose:i}),(0,n.jsxs)("main",{className:"container max-w-2xl px-6 mx-auto",children:[(0,n.jsxs)("section",{className:"py-3",children:[(0,n.jsx)("small",{className:"text-gray-400 text-md",children:"My Balance"}),(0,n.jsx)("h2",{className:"text-4xl font-bold",children:r(o)})]}),(0,n.jsxs)("section",{className:"flex items-center gap-2 py-3",children:[(0,n.jsx)("button",{onClick:()=>{i(!0)},className:"btn btn-primary",children:"+ Expenses"}),(0,n.jsx)("button",{onClick:()=>{t(!0)},className:"btn btn-primary-outline",children:"+ Income"})]}),(0,n.jsxs)("section",{className:"py-6",children:[(0,n.jsx)("h3",{className:"text-2xl",children:"My Expenses"}),(0,n.jsx)("div",{className:"flex flex-col gap-4 mt-6",children:x.map(e=>(0,n.jsx)(u,{expense:e},e.id))})]}),(0,n.jsxs)("section",{className:"py-6",children:[(0,n.jsx)("a",{id:"stats"}),(0,n.jsx)("h3",{className:"text-2xl",children:"Stats"}),(0,n.jsx)("div",{className:"w-1/2 mx-auto",children:(0,n.jsx)(b.$I,{data:{labels:x.map(e=>e.title),datasets:[{label:"Expenses",data:x.map(e=>e.total),backgroundColor:x.map(e=>e.color),borderColor:["#18181b"],borderWidth:5}]}})})]})]})]}):(0,n.jsx)(j,{})}y.kL.register(y.qi,y.u,y.De)},1460:function(e,t,s){"use strict";s.d(t,{I:function(){return i},db:function(){return r}});var n=s(3977),a=s(9828),l=s(1259);let c=(0,n.ZF)({apiKey:"AIzaSyAxhgOf7tzO3wwYa63ci_ru1G0tG1iViOU",authDomain:"financetracker-1eab5.firebaseapp.com",projectId:"financetracker-1eab5",storageBucket:"financetracker-1eab5.firebasestorage.app",messagingSenderId:"743720796419",appId:"1:743720796419:web:ed665d353c1bf81a66a936"}),r=(0,a.ad)(c),i=(0,l.v0)(c)},8123:function(e,t,s){"use strict";s.d(t,{Z:function(){return o},g:function(){return i}});var n=s(1844),a=s(5784),l=s(1460),c=s(1259),r=s(3349);let i=(0,a.createContext)({user:null,loading:!1,googleLoginHandler:async()=>{},logout:async()=>{}});function o(e){let{children:t}=e,[s,a]=(0,r.F_)(l.I),o=new c.hJ(l.I),d=async()=>{try{await (0,c.rh)(l.I,o)}catch(e){throw e}},x=()=>{(0,c.w7)(l.I)};return(0,n.jsx)(i.Provider,{value:{user:s,loading:a,googleLoginHandler:d,logout:x},children:t})}},4853:function(e,t,s){"use strict";s.d(t,{D:function(){return i},Z:function(){return o}});var n=s(1844),a=s(5784),l=s(8123),c=s(1460),r=s(9828);let i=(0,a.createContext)({income:[],expenses:[],addIncomeItem:async()=>{},removeIncomeItem:async()=>{},addExpenseItem:async()=>{},addCategory:async()=>{},deleteExpenseItem:async()=>{},deleteExpenseCategory:async()=>{}});function o(e){let{children:t}=e,[s,o]=(0,a.useState)([]),[d,x]=(0,a.useState)([]),{user:u}=(0,a.useContext)(l.g),m=async e=>{try{let t=(0,r.hJ)(c.db,"expenses"),s=await (0,r.ET)(t,{uid:u.uid,...e,items:[]});x(t=>[...t,{id:s.id,uid:u.uid,items:[],...e}])}catch(e){throw e}},h=async(e,t)=>{let s=(0,r.JU)(c.db,"expenses",e);try{await (0,r.r7)(s,{...t}),x(s=>{let n=[...s],a=n.findIndex(t=>t.id===e);return n[a]={id:e,...t},n})}catch(e){throw e}},p=async(e,t)=>{try{let s=(0,r.JU)(c.db,"expenses",t);await (0,r.r7)(s,{...e}),x(s=>{let n=[...s],a=n.findIndex(e=>e.id===t);return n[a].items=[...e.items],n[a].total=e.total,n})}catch(e){throw e}},f=async e=>{try{let t=(0,r.JU)(c.db,"expenses",e);await (0,r.oe)(t),x(t=>{let s=t.filter(t=>t.id!==e);return[...s]})}catch(e){throw e}},j=async e=>{let t=(0,r.hJ)(c.db,"income");try{let s=await (0,r.ET)(t,e);o(t=>[...t,{id:s.id,...e}])}catch(e){throw console.log(e.message),e}},y=async e=>{let t=(0,r.JU)(c.db,"income",e);try{await (0,r.oe)(t),o(t=>t.filter(t=>t.id!==e))}catch(e){throw console.log(e.message),e}};return(0,a.useEffect)(()=>{if(!u)return;let e=async()=>{let e=(0,r.hJ)(c.db,"income"),t=(0,r.IO)(e,(0,r.ar)("uid","==",u.uid)),s=await (0,r.PL)(t),n=s.docs.map(e=>({id:e.id,...e.data(),createdAt:new Date(e.data().createdAt.toMillis())}));o(n)},t=async()=>{let e=(0,r.hJ)(c.db,"expenses"),t=(0,r.IO)(e,(0,r.ar)("uid","==",u.uid)),s=await (0,r.PL)(t),n=s.docs.map(e=>({id:e.id,...e.data()}));x(n)};e(),t()},[u]),(0,n.jsx)(i.Provider,{value:{income:s,expenses:d,addIncomeItem:j,removeIncomeItem:y,addExpenseItem:h,addCategory:m,deleteExpenseItem:p,deleteExpenseCategory:f},children:t})}}},function(e){e.O(0,[16,278,196,994,445,250,869,17,744],function(){return e(e.s=4034)}),_N_E=e.O()}]);