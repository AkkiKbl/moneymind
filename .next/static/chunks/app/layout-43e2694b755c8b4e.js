(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1066:function(e,t,n){Promise.resolve().then(n.bind(n,7291))},9617:function(){},391:function(){},7291:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(1844);n(9617);var r=n(2920);n(391);var s=n(5784),i=n(8123),c=n(3990),d=function(){let{user:e,loading:t,logout:n}=(0,s.useContext)(i.g);return(0,a.jsx)("header",{className:"container max-w-4xl px-6 py-6 mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[e&&!t&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-[40px] w-[40px] rounded-full overflow-hidden",children:(0,a.jsx)("img",{className:"object-cover w-full h-full",src:e.photoURL,alt:e.displayName,referrerPolicy:"no-referrer"})}),(0,a.jsxs)("small",{children:["Hi, ",e.displayName,"!"]})]}),e&&!t&&(0,a.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:(0,a.jsx)(c.$SF,{className:"text-2xl"})})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:n,className:"btn btn-danger",children:"Sign out"})})]})]})})},l=n(4853);function o(e){let{children:t}=e;return(0,a.jsxs)("html",{lang:"en",children:[(0,a.jsx)("head",{}),(0,a.jsx)("body",{children:(0,a.jsx)(i.Z,{children:(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(r.Ix,{}),(0,a.jsx)(d,{}),t]})})})]})}},1460:function(e,t,n){"use strict";n.d(t,{I:function(){return d},db:function(){return c}});var a=n(3977),r=n(9828),s=n(1259);let i=(0,a.ZF)({apiKey:"AIzaSyAxhgOf7tzO3wwYa63ci_ru1G0tG1iViOU",authDomain:"financetracker-1eab5.firebaseapp.com",projectId:"financetracker-1eab5",storageBucket:"financetracker-1eab5.firebasestorage.app",messagingSenderId:"743720796419",appId:"1:743720796419:web:ed665d353c1bf81a66a936"}),c=(0,r.ad)(i),d=(0,s.v0)(i)},8123:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},g:function(){return d}});var a=n(1844),r=n(5784),s=n(1460),i=n(1259),c=n(3349);let d=(0,r.createContext)({user:null,loading:!1,googleLoginHandler:async()=>{},logout:async()=>{}});function l(e){let{children:t}=e,[n,r]=(0,c.F_)(s.I),l=new i.hJ(s.I),o=async()=>{try{await (0,i.rh)(s.I,l)}catch(e){throw e}},u=()=>{(0,i.w7)(s.I)};return(0,a.jsx)(d.Provider,{value:{user:n,loading:r,googleLoginHandler:o,logout:u},children:t})}},4853:function(e,t,n){"use strict";n.d(t,{D:function(){return d},Z:function(){return l}});var a=n(1844),r=n(5784),s=n(8123),i=n(1460),c=n(9828);let d=(0,r.createContext)({income:[],expenses:[],addIncomeItem:async()=>{},removeIncomeItem:async()=>{},addExpenseItem:async()=>{},addCategory:async()=>{},deleteExpenseItem:async()=>{},deleteExpenseCategory:async()=>{}});function l(e){let{children:t}=e,[n,l]=(0,r.useState)([]),[o,u]=(0,r.useState)([]),{user:h}=(0,r.useContext)(s.g),x=async e=>{try{let t=(0,c.hJ)(i.db,"expenses"),n=await (0,c.ET)(t,{uid:h.uid,...e,items:[]});u(t=>[...t,{id:n.id,uid:h.uid,items:[],...e}])}catch(e){throw e}},f=async(e,t)=>{let n=(0,c.JU)(i.db,"expenses",e);try{await (0,c.r7)(n,{...t}),u(n=>{let a=[...n],r=a.findIndex(t=>t.id===e);return a[r]={id:e,...t},a})}catch(e){throw e}},m=async(e,t)=>{try{let n=(0,c.JU)(i.db,"expenses",t);await (0,c.r7)(n,{...e}),u(n=>{let a=[...n],r=a.findIndex(e=>e.id===t);return a[r].items=[...e.items],a[r].total=e.total,a})}catch(e){throw e}},y=async e=>{try{let t=(0,c.JU)(i.db,"expenses",e);await (0,c.oe)(t),u(t=>{let n=t.filter(t=>t.id!==e);return[...n]})}catch(e){throw e}},p=async e=>{let t=(0,c.hJ)(i.db,"income");try{let n=await (0,c.ET)(t,e);l(t=>[...t,{id:n.id,...e}])}catch(e){throw console.log(e.message),e}},w=async e=>{let t=(0,c.JU)(i.db,"income",e);try{await (0,c.oe)(t),l(t=>t.filter(t=>t.id!==e))}catch(e){throw console.log(e.message),e}};return(0,r.useEffect)(()=>{if(!h)return;let e=async()=>{let e=(0,c.hJ)(i.db,"income"),t=(0,c.IO)(e,(0,c.ar)("uid","==",h.uid)),n=await (0,c.PL)(t),a=n.docs.map(e=>({id:e.id,...e.data(),createdAt:new Date(e.data().createdAt.toMillis())}));l(a)},t=async()=>{let e=(0,c.hJ)(i.db,"expenses"),t=(0,c.IO)(e,(0,c.ar)("uid","==",h.uid)),n=await (0,c.PL)(t),a=n.docs.map(e=>({id:e.id,...e.data()}));u(a)};e(),t()},[h]),(0,a.jsx)(d.Provider,{value:{income:n,expenses:o,addIncomeItem:p,removeIncomeItem:w,addExpenseItem:f,addCategory:x,deleteExpenseItem:m,deleteExpenseCategory:y},children:t})}}},function(e){e.O(0,[16,278,609,250,17,744],function(){return e(e.s=1066)}),_N_E=e.O()}]);